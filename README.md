# Custom2D

**Custom2D** — инструмент для настройки и генерации 2D-персонажей. Вы можете выбрать скин, добавить аксессуары, изменить их цвет, создать пресеты, а также экспортировать результаты в виде анимаций или спрайт-листов.

## Возможности

- **Настройка персонажей:**
  - Выбор пола.
  - Изменение аксессуаров, включая цвет.
  - Сохранение и загрузка пресетов.
- **Генерация спрайтов:**
  - Случайная генерация персонажей с аксессуарами.
  - Автоматическое создание спрайт-листов.
- **Анимация:**
  - Просмотр анимаций персонажей.
  - Экспорт анимаций в формат GIF.
- **Экспорт:**
  - Сохранение настроек персонажа в виде изображений PNG.
  - Экспорт спрайтов в формате анимации GIF.

## Установка и запуск

### Требования:

- Python 3.9+
- Установленные зависимости из `requirements.txt`
- ZIP-архив с ресурсами (например, `Construct.zip`)

### Шаги установки:

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/jestelf/Custom2D.git
   cd Custom2D
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

3. Убедитесь, что ZIP-файл с ресурсами (например, `Construct.zip`) находится в корне проекта.

4. Запустите приложение:
   ```bash
   python npc_custom.py
   ```

---

## Использование

### Основной интерфейс:

- **Левая панель:** 
  - Выбор пола.
  - Список категорий аксессуаров.
  - Превью персонажа.
- **Центральная панель:** 
  - Полный вид персонажа.
  - Кнопки переключения скинов.
  - Сохранение персонажа, генерация пресетов и просмотр анимации.
- **Правая панель:** 
  - Список доступных аксессуаров с возможностью изменения цвета.

### Горячие клавиши:

- **Колесо мыши:** Масштабирование персонажа или анимации.
- **Мышь:** Выбор аксессуаров и управление настройками.

### Генерация случайных спрайтов:

1. Нажмите на кнопку "Генерация спрайтов".
2. Введите количество спрайтов для генерации.
3. Нажмите "Сгенерировать".

Результаты сохраняются в папке `datasets/`.

### Экспорт анимации:

1. В окне анимации выберите нужную анимацию.
2. Нажмите "Экспортировать анимацию в GIF".
3. Укажите путь для сохранения файла.

---

## Пример структуры проекта:

```plaintext
Custom2D/
├── main.py               # Главный файл приложения
├── requirements.txt      # Зависимости проекта
├── README.md             # Описание проекта
├── Construct.zip         # ZIP-файл с ресурсами
├── extracted_sprites/    # Распакованные спрайты
│   ├── Construct/
│   │   ├── Man/
│   │   │   ├── Skin/
│   │   │   ├── Hair/
│   │   │   └── ...
│   │   ├── Woman/
│   │   │   ├── Skin/
│   │   │   ├── Clothing/
│   │   │   └── ...
├── modified_accessories/ # Папка с модифицированными аксессуарами
├── presets/              # Сохранённые пресеты
├── exports/              # Экспортированные изображения
└── datasets/             # Генерация случайных спрайтов
```

---

## Сборка в `.exe`

Если вы хотите собрать приложение в единый `.exe` файл:

1. Установите `auto-py-to-exe`:
   ```bash
   pip install auto-py-to-exe
   ```

2. Запустите GUI для сборки:
   ```bash
   auto-py-to-exe
   ```

3. Укажите:
   - Главный файл: `main.py`.
   - ZIP-файл `Construct.zip` через `--add-data`.

4. Сконвертируйте и проверьте `.exe` в папке `dist`.

---

## Зависимости

Все необходимые библиотеки указаны в `requirements.txt`. Для установки выполните:

```bash
pip install -r requirements.txt
```

Список ключевых библиотек:
- `PyQt5` — для графического интерфейса.
- `Pillow` — для работы с изображениями.
- `json` — для сохранения пресетов.
- `uuid` — для уникальных названий файлов.

---

## Лицензия

Лицензионная информация доступна в файле [LICENSE](./LICENSE).
```

### Пояснения и настройки для `auto-py-to-exe`

1. **Главный файл:** `main.py`.
2. **Дополнительные файлы:** добавьте ZIP-файл с ресурсами через `--add-data`.
3. **Иконка:** укажите кастомную иконку (например, `icon.ico`).
4. **Имя программы:** `Custom2D`.
5. **Сборка в один файл:** включите опцию `--onefile`.

Если у вас возникнут вопросы по настройке или работе, обращайтесь!